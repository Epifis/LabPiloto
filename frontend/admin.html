<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Panel de AdministraciÃ³n | LabPilot</title>
  <link rel="stylesheet" href="css/admin.css" />

  <script type="module">
    import { verificarAutenticacion, iniciarVerificacionContinua } from './js/modules/auth.js';
    
    document.addEventListener('DOMContentLoaded', async () => {
        const user = await verificarAutenticacion();
        if (user) {
            // Ocultar "Agregar Admins" si no es superAdmin
            if (user.rol !== 'superAdmin') {
                const linkRegistrar = document.getElementById('link-registrar-admin');
                if (linkRegistrar) linkRegistrar.style.display = 'none';
            }
            iniciarVerificacionContinua();
        }
    });
</script>
</head>
<body>
  
  <div class="layout">
   <!-- ======= BARRA LATERAL ======= -->
    <aside class="sidebar">
      <h2>LabPilot</h2>
      <nav>
        <button class="menu-btn" id="btnReservas">ğŸ“… Reservas</button><!--'Pendiente', 'Confirmada', 'Cancelada', 'Completada', 'Rechazada'-->
        <button class="menu-btn" id="btnPrestamos">ğŸ“… PrÃ©stamos</button><!--'Pendiente', 'Aprobado', 'Rechazado', 'Prestado', 'Devuelto', 'Atrasado'-->
        <button class="menu-btn" id="btnReportes">ğŸ“Š Reportes</button>
        <button class="menu-btn" id="btnAdminCursos">ğŸ“Š Administrar Cursos</button><!-- programarlos o quitarlos o actualizarlos-->
        <button class="menu-btn" id="btnGestor">ğŸ“Š Gestor de usuarios</button><!--SuperAdmin-->
        <button class="menu-btn" id="btnInventario">ğŸ“¦ Inventario</button>
        <button class="menu-btn" id="btnLaboratorios">ğŸ§ª Laboratorios</button>
        <a id="link-registrar-admin" href="registrar-admin.html">Agregar Admins</a>
      </nav>
     <button class="logout-btn" id="logoutBtn">Cerrar sesiÃ³n</button>

    </aside>

    <!-- ======= CONTENIDO PRINCIPAL ======= -->
    <main class="main-content">
      <h1>Panel de AdministraciÃ³n</h1>
      <p>
        Bienvenido al sistema de gestiÃ³n de reservas y prÃ©stamos de la
        <strong>Universidad Piloto de Colombia</strong>.
      </p>

      <div class="info-box">
        <h2>Uso del panel</h2>
        <p>
          Desde este espacio podrÃ¡s supervisar las reservas de laboratorios, 
          gestionar los prÃ©stamos de equipos y generar reportes detallados 
          sobre la actividad del sistema. 
        </p>
        <p>
          Recuerda aprobar, rechazar o actualizar cada solicitud con cuidado, 
          garantizando la correcta trazabilidad de los recursos institucionales.
        </p>
      </div>

      <section id="contenido-dinamico"></section>
    </main>
  </div>

  <footer>
    <p>Â© 2025 Universidad Piloto de Colombia â€“ Sistema LabPilot</p>
  </footer>
  <script src="js/config.js"></script>
  <script type="module" src="js/admin.js"></script>
</body>
</html>
